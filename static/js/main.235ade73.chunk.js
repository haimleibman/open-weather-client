(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o);a(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(44),s=a.n(i),u=a(69),l=a(20),m=a(170),d=a(171),v=a(11),p=Object(v.atom)({key:"selectedCity",default:"Tel Aviv"}),f=Object(v.atom)({key:"favorites",default:[]}),_=a(63),h=a.n(_);function b(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(v.useSetRecoilState)(p);return r.a.createElement(d.a,{className:h.a.autocomplete,open:a,onOpen:function(){return o(!0)},onClose:function(){return o(!1)},getOptionSelected:function(e,t){return c(e),e===t},options:["London","Tel Aviv","New York","Toronto","Jerusalem","Paris","Kopenhagen","Moscow","Los Angeles","Okinawa"],renderInput:function(e){return r.a.createElement(m.a,Object.assign({},e,{label:"Search a city",variant:"filled",InputProps:Object(u.a)({},e.InputProps)}))}})}var y=a(68),E=a(45),O=a.n(E),w=a(17),j=a.n(w),g=a(29),x=a(38),C=a.n(x),N="&units=metric&".concat("apikey=85c010a40d2083b5672b97672f04d90b"),k=a(30),W=a.n(k),S=function(e){var t=e/40;return"3px solid hsl(".concat(240-240*(t<0?0:t>1?1:t),", 100%, 50%)")},R=function(){var e,t=Object(n.useState)(),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(v.useRecoilValue)(p);return Object(n.useEffect)((function(){Object(g.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://api.openweathermap.org/data/2.5/weather?q="+i+N);case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))()}),[i]),r.a.createElement("div",{className:W.a.currentWeather,style:{border:S(null!==(e=null===o||void 0===o?void 0:o.main.temp)&&void 0!==e?e:0)}},r.a.createElement("div",{className:W.a.city},i),r.a.createElement("div",{className:W.a.degree},null===o||void 0===o?void 0:o.main.temp.toFixed()," c"),r.a.createElement("div",{className:W.a.description},null===o||void 0===o?void 0:o.weather[0].description))},I=a(31),F=a.n(I),T=function(e){var t,a=e.city;return r.a.createElement("div",{className:F.a.favoriteCity,style:{border:S(null!==(t=null===a||void 0===a?void 0:a.main.temp)&&void 0!==t?t:0)}},r.a.createElement("div",{className:F.a.city},null===a||void 0===a?void 0:a.name),r.a.createElement("div",{className:F.a.degree},null===a||void 0===a?void 0:a.main.temp.toFixed()," c"),r.a.createElement("div",{className:F.a.description},null===a||void 0===a?void 0:a.weather[0].main))},B=a(67),L=a.n(B),A=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(v.useRecoilValue)(f);Object(n.useEffect)((function(){Object(g.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.map(function(){var e=Object(g.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://api.openweathermap.org/data/2.5/weather?q="+t+N);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:a=e.sent,o(a);case 5:case"end":return e.stop()}}),e)})))()}),[c]);return r.a.createElement("div",{className:L.a.favorites},null===a||void 0===a?void 0:a.sort((function(e,t){return e.main.temp>t.main.temp?1:e.main.temp<t.main.temp?-1:0})).map((function(e,t){return r.a.createElement(T,{key:t,city:e})})))},D=a(168),M=a(169),P=function(){var e=Object(v.useRecoilState)(f),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(v.useRecoilValue)(p);return r.a.createElement("div",{className:O.a.container},r.a.createElement("div",{className:O.a.favoritesButton},a.includes(o)?r.a.createElement(D.a,{onClick:function(){var e=a.filter((function(e){return e!==o}));n(e)}}):r.a.createElement(M.a,{onClick:function(){var e=[].concat(Object(y.a)(a),[o]),t=(a.length<5||e.shift(),e);n(t)}})),r.a.createElement(R,null),r.a.createElement(A,null))},q=function(){return r.a.createElement("div",{className:s.a.root},r.a.createElement("div",{className:s.a.body},r.a.createElement(b,null),r.a.createElement(P,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.RecoilRoot,null,r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,a){e.exports={currentWeather:"CurrentWeather_currentWeather__3OgYI",city:"CurrentWeather_city__6Su7p",degree:"CurrentWeather_degree__312GU",description:"CurrentWeather_description__3IT7b"}},31:function(e,t,a){e.exports={favoriteCity:"FavoriteCity_favoriteCity__yI4KN",city:"FavoriteCity_city__1Mbds",description:"FavoriteCity_description__3rU9T"}},44:function(e,t,a){e.exports={root:"Layout_root__37D3L",body:"Layout_body__3Ei6M"}},45:function(e,t,a){e.exports={container:"WeatherDetailsContainer_container__33lpT",favoritesButton:"WeatherDetailsContainer_favoritesButton__3xRz_"}},63:function(e,t,a){e.exports={autocomplete:"Autocomplete_autocomplete__1Uc_q"}},67:function(e,t,a){e.exports={favorites:"Favorites_favorites__3gODc"}},79:function(e,t,a){e.exports=a(130)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.235ade73.chunk.js.map